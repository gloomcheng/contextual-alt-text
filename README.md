# Auto Alt Text
This WordPress plugin allows you to automatically generate an Alt Text for images uploaded into the media library.
This plugin is able to use the AI of external services of Azure or Openai to generate an alt text that is as faithful as possible to the content of the image.

## Features

This plugin allows you to generate alt texts in the following ways:
- using Azure APIs for computational vision;
- using Openai APIs for computational vision;
- recovering the title of the image;
- recovering the title of the article in which the image is uploaded.

## Prerequisites
Please ensure you have the following tools installed:
- PHP version: >= 7.4
- composer
- node version: 18
- npm

## Getting started
Within your WordPress installation, navigate to the plugin directory and run the following commands:

```bash
git clone git@github.com:valeriomonti/auto-alt-text.git
cd auto-alt-text
composer install
npm install
npm run build
```
In the wp-admin panel activate the Auto Alt Text plugin.

The plugin settings are found in the Settings -> Auto Alt Text Options menu.

After installing the plugin, click on the 'Auto Alt Text' menu item and select the Generation Method you prefer.

### Azure's APIs method
On your Azure account, create a Computer Vision instance and retrieve the following data to enter on the options page:
- Computer Vision API Key
- Computer Vision Endpoint

If you want to generate an alt text in English, save the options without filling in any other fields.

If you want to generate an alt text in a different language, on your Azure account, create a Translator instance and retrieve the following data to enter on the options page:
- Translator Instance API Key
- Translator Instance Endpoint
- Translator Instance Region

After entering this data, save the options.

Select the desired language and save the options again.

### OpenAI's APIs method
In your OpenAI account, retrieve the following data to enter on the options page:
- API Key

Enter a prompt for generating the alt text according to your needs.

Select a Fallback OpenAI Model, useful in case the automatic generation of alt text does not work correctly.

For generating alt text, the "gpt-4-vision-preview" model is used, which is currently in preview. Therefore, it might sometimes return an error.

When the model fails, a fallback model is used to create the alt text based on the name of the image.

Enter the fallback prompt.

### Title of the article method
For this generation method, there are no options to set as the alt text will be generated by copying the title of the article in which the image is uploaded.

In case the article is not uploaded as an attachment of an article, the "Title of the attachment" method will be used as a fallback.

### Title of the attachment method
For this generation method, there are no options to set as the alt text will be generated by copying the title of the image.

## Functioning
Once the plugin is configured, each time an image is uploaded to the media library, an alt text will be automatically set based on the selected generation method.

For images already in the media library, you can create bulk alt texts. Open the Media Library in the "list" view, select the images for which to generate the alt text, and choose the "Generate alt text" bulk action. (Depending on the number of images chosen and their weight, this may take some time.)

**Notice**: If you choose one of the methods that involves the use of external APIs, the upload times for images in the media library might increase because it requires sending a request to the APIs, waiting for the external server to process, and waiting for a response.

In case of an error in the API call, the image will still be uploaded but without alt text as usual. In this case, the cause of the error can be seen on the Auto Alt Text -> Error log page.

### Logging
If the generation of the alt text via AI is set, in case of errors, to avoid blocking the editorial work, the image is loaded anyway but without the alt text being compiled.

When a call to the Azure or OpenAI API fails, a record containing the error message is saved in a custom database table.
In this case, the cause of the error can be seen on the Auto Alt Text -> Error log page.

